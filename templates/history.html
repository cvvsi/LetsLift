{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Your Workout History</h1>

    <!-- Progress Stats Section -->
    <div class="stats-section">
        <h2>Progress Overview</h2>
        <p>Number of Workouts: {{ workouts|length }}</p>
        <p>ðŸ”¥ Current Streak: {{ current_streak }} days</p>
        
        {% if progress_stats %}
            <div class="recent-activity">
                <h3>Recent Activity</h3>
                <p>This Week: {{ progress_stats.time_periods.week }} workouts</p>
                <p>Last 2 Weeks: {{ progress_stats.time_periods.two_weeks }} workouts</p>
                <p>This Month: {{ progress_stats.time_periods.month }} workouts</p>
            </div>

            <div class="top-exercises">
                <h3>Most Common Exercises</h3>
                {% if progress_stats.exercise_frequency.top_exercises %}
                    {% for exercise in progress_stats.exercise_frequency.top_exercises %}
                        <p>{{ exercise.name }}: {{ exercise.count }} times</p>
                    {% endfor %}
                {% else %}
                    <p>No exercise data available</p>
                {% endif %}
            </div>

            <div class="volume-stats">
                <h3>Total Volume</h3>
                <p>{{ progress_stats.total_volume }} lbs</p>
            </div>
        {% endif %}
    </div>

    <!-- Workout History Section -->
    {% for workout in workouts %}
        <div class="workout-entry">
            <h3>Workout {{ loop.index }}</h3>
            <p>Started: {{ workout.start_time }}</p>
            <p>Ended: {{ workout.end_time }}</p>
            {% if workout.notes %}
                <p>Notes: {{ workout.notes }}</p>
            {% endif %}
            
            <h4>Exercises:</h4>
            <ul>
            {% for exercise in workout.exercises %}
                <li>{{ exercise.name }}: {{ exercise.sets }}x{{ exercise.reps }} @ {{ exercise.weight }}</li>
            {% endfor %}
            </ul>
        </div>
    {% endfor %}
</div>
{% endblock %}
